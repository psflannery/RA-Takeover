(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};namespace("RoyalAcademy.Modules"),RoyalAcademy.Modules.ImageCaptionToggler=function(){function e(e){this._showCaption=t(this._showCaption,this),this._hideCaption=t(this._hideCaption,this),this.toggleIcon=e.toggleIcon,this.caption=e.caption}return e.prototype.bindEvents=function(){return this._hideCaption(),this.toggleIcon.on("click",function(t){return function(){return t.captionHidden?t._showCaption():t._hideCaption(),!1}}(this))},e.prototype._hideCaption=function(){return this.captionHidden=!0,this.caption.hide(),this.toggleIcon.removeClass("open"),this.toggleIcon.addClass("closed")},e.prototype._showCaption=function(){return this.captionHidden=!1,this.caption.show(),this.toggleIcon.removeClass("closed"),this.toggleIcon.addClass("open")},e}()}).call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};namespace("RoyalAcademy.Modules"),RoyalAcademy.Modules.ImageDescriptionExpander=function(){function e(e){this._expand=t(this._expand,this),this._collapse=t(this._collapse,this),this._expandContent=t(this._expandContent,this),this._collapseContent=t(this._collapseContent,this),this.expandLink=e.expandLink,this.content=e.content}return e.prototype.bindEvents=function(){return this._collapseContent(),this.expandLink.on("click",function(t){return function(){return t.contentCollapsed?t._expandContent():t._collapseContent(),!1}}(this))},e.prototype._collapseContent=function(){return this.contentCollapsed=!0,this._collapse()},e.prototype._expandContent=function(){return this.contentCollapsed=!1,this._expand()},e.prototype._collapse=function(){return this.content.addClass("collapsed"),this.expandLink.addClass("collapsed"),this.expandLink.removeClass("expanded"),this.content.removeClass("expanded")},e.prototype._expand=function(){return this.content.addClass("expanded"),this.expandLink.addClass("expanded"),this.expandLink.removeClass("collapsed"),this.content.removeClass("collapsed")},e}()}.call(this),function(t){function e(e){if("string"==typeof e.data&&(e.data={keys:e.data}),e.data&&e.data.keys&&"string"==typeof e.data.keys){var n=e.handler,i=e.data.keys.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!(t.hotkeys.options.filterInputAcceptingElements&&t.hotkeys.textInputTypes.test(e.target.nodeName)||t.hotkeys.options.filterContentEditable&&t(e.target).attr("contenteditable")||t.hotkeys.options.filterTextInputs&&t.inArray(e.target.type,t.hotkeys.textAcceptingInputTypes)>-1)){var o="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],s=String.fromCharCode(e.which).toLowerCase(),r="",a={};t.each(["alt","ctrl","shift"],function(t,n){e[n+"Key"]&&o!==n&&(r+=n+"+")}),e.metaKey&&!e.ctrlKey&&"meta"!==o&&(r+="meta+"),e.metaKey&&"meta"!==o&&r.indexOf("alt+ctrl+shift+")>-1&&(r=r.replace("alt+ctrl+shift+","hyper+")),o?a[r+o]=!0:(a[r+s]=!0,a[r+t.hotkeys.shiftNums[s]]=!0,"shift+"===r&&(a[t.hotkeys.shiftNums[s]]=!0));for(var l=0,c=i.length;c>l;l++)if(a[i[l]])return n.apply(this,arguments)}}}}t.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(jQuery||this.jQuery||window.jQuery),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};namespace("RoyalAcademy.Modules"),RoyalAcademy.Modules.Gallery=function(){function e(e){this.openImageAtIndex=t(this.openImageAtIndex,this),this.showImageAtIndex=t(this.showImageAtIndex,this),this.hideFullscreen=t(this.hideFullscreen,this),this.setupFullscreen=t(this.setupFullscreen,this),this.resetFullscreen=t(this.resetFullscreen,this),this.gotoPreviousImage=t(this.gotoPreviousImage,this),this.gotoNextImage=t(this.gotoNextImage,this),this.container=e.container,this.imageList=e.imageList,this.template=e.template||this.TEMPLATE,this.hideContainer()}return e.prototype.TEMPLATE=function(t){return'<div class=\'fullscreen-wrap\'>\n<div class="fullscreen-viewer" data-fullscreen-viewer style="background-image:url('+t.src+");\"></div>\n<div class='master__caption--gallery-fullscreen'>\n  "+t.caption+'\n</div>\n<div class="gallery-controls" data-gallery-controls>\n  <a href="#" class="next" data-next>Next</a>\n  <a href="#" class="previous" data-previous>Previous</a>\n  <a href="#" class="close-gallery" data-close><span class=\'icon-cancel\'></span></a>\n</div>\n</div>'},e.prototype.bindEvents=function(){return $(window).resize(this.resetFullscreen),this.imageList.find("[data-item]").click(function(t){return function(e){var n;return n=$(e.currentTarget).index(),t.openImageAtIndex(n)}}(this))},e.prototype.hideContainer=function(){return this.container.hide()},e.prototype.showContainer=function(){return this.container.show()},e.prototype.getWindowWidth=function(){return $(window).width()},e.prototype.getWindowHeight=function(){return $(window).height()},e.prototype.resizeFullscreenViewer=function(){return this.fullscreenViewer().width(this.getWindowWidth()),this.fullscreenViewer().height(this.getWindowHeight())},e.prototype.gotoNextImage=function(){return this.imageAtIndexExists(this.nextImageIndex())?this.showImageAtIndex(this.nextImageIndex()):this.closeViewer(),!1},e.prototype.gotoPreviousImage=function(){return this.imageAtIndexExists(this.previousImageIndex())?this.showImageAtIndex(this.previousImageIndex()):this.closeViewer(),!1},e.prototype.unbind=function(){return $(window).off("resize",this.resetFullscreen)},e.prototype.closeViewer=function(){return this.hideFullscreen()},e.prototype.unbindFullscreenControlEvents=function(){return this.container.find("[data-close]").off("click",this.closeViewer),this.container.find("[data-next]").off("click",this.gotoNextImage),this.container.find("[data-previous]").off("click",this.gotoPreviousImage),this.unbindKeyboardNavigationEvents()},e.prototype.unbindKeyboardNavigationEvents=function(){return $(document).off("keyup.gallery")},e.prototype.bindFullscreenControlEvents=function(){return $(document).on("keyup.gallery",null,"left",this.gotoPreviousImage),$(document).on("keyup.gallery",null,"right",this.gotoNextImage),$(document).on("keyup.gallery",null,"esc",this.hideFullscreen),this.container.find("[data-close]").on("click",this.hideFullscreen),this.container.find("[data-next]").on("click",this.gotoNextImage),this.container.find("[data-previous]").on("click",this.gotoPreviousImage)},e.prototype.imageAtIndexExists=function(t){return t>=0&&t<this.imageList.children().length},e.prototype.getImageSrcAtIndex=function(t){var e;return e=this.getImageAtIndex(t),e.data("fullSrc")||e.attr("src")},e.prototype.getItemAtIndex=function(t){return this.imageList.find("[data-item]:eq("+t+")")},e.prototype.getImageAtIndex=function(t){return this.getItemAtIndex(t).find("[data-image]")},e.prototype.templateForImageAtIndex=function(t){var e,n;return n=this.getImageSrcAtIndex(t),n?(e=this.getItemAtIndex(t).find("[data-caption]").html(),this.template({caption:e,src:n})):void 0},e.prototype.prepareImageAtIndex=function(t){var e;return e=this.templateForImageAtIndex(t),this.container.html(e)},e.prototype.prepareNavigationControls=function(){var t,e;return e=this.container.find("[data-previous]"),t=this.container.find("[data-next]"),this.allImages().length<=1?(e.hide(),t.hide()):(e.show(),t.show())},e.prototype.getSelectedImage=function(){return this.allImages().closest("[data-selected]")},e.prototype.getSelectedImageIndex=function(){return this.getSelectedImage().parents("[data-item]").index()},e.prototype.nextImageIndex=function(){return this.getSelectedImageIndex()+1},e.prototype.previousImageIndex=function(){return this.getSelectedImageIndex()-1},e.prototype.selectImageAtIndex=function(t){return this.deselectAllImages(),this.getImageAtIndex(t).attr("data-selected",!0)},e.prototype.deselectAllImages=function(){return this.allImages().removeAttr("data-selected")},e.prototype.allImages=function(){return this.imageList.find("[data-item] [data-image]")},e.prototype.resetFullscreen=function(){return this.isFullscreen()?this.setupFullscreen():void 0},e.prototype.setupFullscreen=function(){return this.showContainer(),this.resizeFullscreenViewer()},e.prototype.hideFullscreen=function(){return this.unbindFullscreenControlEvents(),this.container.empty(),this.hideContainer(),!1},e.prototype.showImageAtIndex=function(t){return this.selectImageAtIndex(t),this.prepareImageAtIndex(t),this.prepareNavigationControls(),this.unbindKeyboardNavigationEvents(),this.bindFullscreenControlEvents(),this.setupFullscreen()},e.prototype.openImageAtIndex=function(t){return this.imageAtIndexExists(t)?this.showImageAtIndex(t):void 0},e.prototype.fullscreenViewer=function(){return this.container.find("[data-fullscreen-viewer]")},e.prototype.galleryControls=function(){return this.container.find("[data-gallery-controls]")},e.prototype.isFullscreen=function(){return this.container.is(":visible")},e}()}.call(this),function(){namespace("RoyalAcademy.Modules"),RoyalAcademy.Modules.People=function(){function t(t){this.container=t.container,this.defaultMode=t.defaultMode,this.artistLink=t.artistLink,this.artworkLink=t.artworkLink}var e,n;return e="artist",n="artwork",t.prototype.bindEvents=function(){return this._setMode(),this._bindLinks()},t.prototype._setMode=function(){return this.defaultMode===e?this._toggleContainer(this.artistLink,this.artworkLink):this._toggleContainer(this.artworkLink,this.artistLink)},t.prototype._bindLinks=function(){return this.artistLink.click(function(t){return function(){return t._toggleContainer(t.artistLink,t.artworkLink),!1}}(this)),this.artworkLink.click(function(t){return function(){return t._toggleContainer(t.artworkLink,t.artistLink),!1}}(this))},t.prototype._readjust=function(){return $(window).trigger("readjust")},t.prototype._toggleContainer=function(t,e){var n,i;return this._updateClasses(t,e),i=t.data("containerId"),n=e.data("containerId"),$("[data-id='"+i+"']",this.container).show(),$("[data-id='"+n+"']",this.container).hide(),this._readjust()},t.prototype._updateClasses=function(t,e){return t.removeClass("active"),e.removeClass("active"),t.addClass("active")},t}()}.call(this),function(){namespace("RoyalAcademy.Utils"),RoyalAcademy.Utils.ImageCaptionPosition=function(){function t(t){this.elForHeight=t.elForHeight,this.elToAdjust=t.elToAdjust}var e;return e=10,t.prototype.execute=function(){return this.elToAdjust.css("margin-top",this._offset())},t.prototype._offset=function(){return this.elForHeight.outerHeight()+e},t}()}.call(this),function(){namespace("RoyalAcademy.Utils"),RoyalAcademy.Utils.YoutubePlayer=function(){function t(t){this.element=t}return t.prototype.pause=function(){return this.element.contentWindow.postMessage(this._pause_command(),"*")},t.prototype._pause_command=function(){return JSON.stringify({event:"command",func:"pauseVideo"})},t}()}.call(this);var Froogaloop=function(){function t(e){return new t.fn.init(e)}function e(t,e,n){if(!n.contentWindow.postMessage)return!1;var i=n.getAttribute("src").split("?")[0],t=JSON.stringify({method:t,value:e});"//"===i.substr(0,2)&&(i=window.location.protocol+i),n.contentWindow.postMessage(t,i)}function n(t){var e,n;try{e=JSON.parse(t.data),n=e.event||e.method}catch(i){}if("ready"==n&&!s&&(s=!0),t.origin!=r)return!1;var t=e.value,a=e.data,l=""===l?null:e.player_id;return e=l?o[l][n]:o[n],n=[],e?(void 0!==t&&n.push(t),a&&n.push(a),l&&n.push(l),0<n.length?e.apply(null,n):e.call()):!1}function i(t,e,n){n?(o[n]||(o[n]={}),o[n][t]=e):o[t]=e}var o={},s=!1,r="";return t.fn=t.prototype={element:null,init:function(t){"string"==typeof t&&(t=document.getElementById(t)),this.element=t,t=this.element.getAttribute("src"),"//"===t.substr(0,2)&&(t=window.location.protocol+t);for(var t=t.split("/"),e="",n=0,i=t.length;i>n&&3>n;n++)e+=t[n],2>n&&(e+="/");return r=e,this},api:function(t,n){if(!this.element||!t)return!1;var o=this.element,s=""!==o.id?o.id:null,r=n&&n.constructor&&n.call&&n.apply?null:n,a=n&&n.constructor&&n.call&&n.apply?n:null;return a&&i(t,a,s),e(t,r,o),this},addEvent:function(t,n){if(!this.element)return!1;var o=this.element,r=""!==o.id?o.id:null;return i(t,n,r),"ready"!=t?e("addEventListener",t,o):"ready"==t&&s&&n.call(null,r),this},removeEvent:function(t){if(!this.element)return!1;var n,i=this.element;t:{if((n=""!==i.id?i.id:null)&&o[n]){if(!o[n][t]){n=!1;break t}o[n][t]=null}else{if(!o[t]){n=!1;break t}o[t]=null}n=!0}"ready"!=t&&n&&e("removeEventListener",t,i)}},t.fn.init.prototype=t.fn,window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n),window.Froogaloop=window.$f=t}();(function(){namespace("RoyalAcademy.Utils"),RoyalAcademy.Utils.VimeoPlayer=function(){function t(t){this.element=t,this.froogaloop=$f}return t.prototype.pause=function(){return this.froogaloop(this.element).api("pause")},t}()}).call(this),function(){namespace("RoyalAcademy.Utils"),RoyalAcademy.Utils.VideoPlayerFactory=function(){function t(){}return t["for"]=function(t){var e;return e=$(t).data("source"),"vimeo"===e?new RoyalAcademy.Utils.VimeoPlayer(t):"youtube"===e?new RoyalAcademy.Utils.YoutubePlayer(t):void 0},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};namespace("RoyalAcademy.Utils"),RoyalAcademy.Utils.VideoPlayback=function(){function e(e){null==e&&(e={}),this._pauseVideo=t(this._pauseVideo,this),this.slider=e.slider,this.videoDataClass=e.videoDataClass||'iframe[data-class="video"]',this.videoPlayerFactory=e.videoPlayerFactory||RoyalAcademy.Utils.VideoPlayerFactory}return e.prototype.bindEvents=function(){return this.slider.on("slide",this._pauseVideo)},e.prototype._pauseVideo=function(t){var e;return e=$(t).find(this.videoDataClass),e.each(function(t){return function(e,n){return t.videoPlayerFactory["for"](n).pause()}}(this))},e}()}.call(this),function(){}.call(this);